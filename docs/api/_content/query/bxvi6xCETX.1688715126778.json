{"_path":"/v3/guide/components/speedkit-iframe","_dir":"components","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"SpeedkitIframe","description":"SpeedkitIframe, Iframe & IntersectionObserver in one.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":""},"children":[{"type":"element","tag":"binding","props":{"value":"title"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SpeedkitIframe"}]},{"type":"text","value":", Iframe & IntersectionObserver in one."}]},{"type":"element","tag":"h2","props":{"id":"exkurs"},"children":[{"type":"text","value":"Exkurs"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Iframes have a tendency, in the special case of the initial page load, to disrupt the construction and initialisation of the actual page through the massive loading of resources from another source."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"For the user, this is particularly visible by:"}]}]},{"type":"element","tag":"list","props":{"type":"warning"},"children":[{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Freeze (Short freeze of the page)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Delayed loading of resources  (images, fonts)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Unnecessarily generated traffic"}]}]}]},{"type":"element","tag":"h2","props":{"id":"solution"},"children":[{"type":"text","value":"Solution"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In order to solve these points, care should be taken to ensure that the initialisation of the iframe takes place downstream.\nThis can be realised, for example, via an "},{"type":"element","tag":"a","props":{"href":"https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver","rel":["nofollow"]},"children":[{"type":"text","value":"IntersectionObserver"}]},{"type":"text","value":".\nThis sets the source on the iframe only when the visible viewport has been reached."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"The following conditions can thus be fulfilled:"}]}]},{"type":"element","tag":"list","props":{"type":"success"},"children":[{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Iframe load is reactive."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"No resources are blocked during loading."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Traffic is only generated when the iframe is visible."}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The strategy mentioned above is provided by the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SpeedkitIframe"}]},{"type":"text","value":", which can be used in the same way as a normal "},{"type":"element","tag":"a","props":{"href":"https://www.w3schools.com/tags/tag_iframe.asp","rel":["nofollow"]},"children":[{"type":"text","value":"HTML Iframe"}]},{"type":"text","value":".\nThe included "},{"type":"element","tag":"a","props":{"href":"https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver","rel":["nofollow"]},"children":[{"type":"text","value":"IntersectionObserver"}]},{"type":"text","value":" is configured via the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"intersectionObserver"}]},{"type":"text","value":" property."}]},{"type":"element","tag":"h2","props":{"id":"usage"},"children":[{"type":"text","value":"Usage"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SpeedkitIframe"}]},{"type":"text","value":" is used like a normal "},{"type":"element","tag":"a","props":{"href":"https://www.w3schools.com/tags/tag_iframe.asp","rel":["nofollow"]},"children":[{"type":"text","value":"HTML Iframe"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"example"},"children":[{"type":"text","value":"Example"}]},{"type":"element","tag":"code","props":{"code":"<template>\n  <speedkit-iframe v-bind=\"iframe\" @load=\"onLoadIframe\" />\n</template>\n\n<script setup>\nconst src = defineProps({\n  src: String,\n  componentObserver: {\n    type: Object,\n    default() {\n      return { trackVisibility: true, delay: 350 };\n    }\n  }\n});\n\nconst onLoadIframe = () => console.log('iframe loaded!');\n</script>\n","language":"vue","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7920c0"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"class":"ct-7920c0"},"children":[{"type":"text","value":"speedkit-iframe"}]},{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-98ca98"},"children":[{"type":"text","value":"v-bind"}]},{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-0ab01d"},"children":[{"type":"text","value":"\"iframe\""}]},{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-98ca98"},"children":[{"type":"text","value":"@load"}]},{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-0ab01d"},"children":[{"type":"text","value":"\"onLoadIframe\""}]},{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":" />\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-7920c0"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7920c0"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-98ca98"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-c2d53a"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-98ca98"},"children":[{"type":"text","value":"src"}]},{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c2d53a"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ae0236"},"children":[{"type":"text","value":"defineProps"}]},{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":"({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":"  src: String,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":"  componentObserver: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":"    type: Object,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-ae0236"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":"() {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-c2d53a"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":" { trackVisibility: "}]},{"type":"element","tag":"span","props":{"class":"ct-98ca98"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":", delay: "}]},{"type":"element","tag":"span","props":{"class":"ct-98ca98"},"children":[{"type":"text","value":"350"}]},{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":" };\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":"});\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"class":"ct-c2d53a"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ae0236"},"children":[{"type":"text","value":"onLoadIframe"}]},{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c2d53a"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":" () "}]},{"type":"element","tag":"span","props":{"class":"ct-c2d53a"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":" console."}]},{"type":"element","tag":"span","props":{"class":"ct-ae0236"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-0ab01d"},"children":[{"type":"text","value":"'iframe loaded!'"}]},{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-7920c0"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"properties"},"children":[{"type":"text","value":"Properties"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Use native attributes from "},{"type":"element","tag":"a","props":{"href":"https://www.w3schools.com/tags/tag_iframe.asp","rel":["nofollow"]},"children":[{"type":"text","value":"HTML Iframe"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"h3","props":{"id":"componentobserver"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"componentObserver"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Type: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Object"}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver#properties","rel":["nofollow"]},"children":[{"type":"text","value":"IntersectionObserver Properties"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"{ trackVisibility: true, delay: 350 }"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Sets the options from the integrated "},{"type":"element","tag":"a","props":{"href":"https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver","rel":["nofollow"]},"children":[{"type":"text","value":"IntersectionObserver"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For advanced usage, "},{"type":"element","tag":"a","props":{"href":"https://web.dev/intersectionobserver-v2/","rel":["nofollow"]},"children":[{"type":"text","value":"learn more"}]},{"type":"text","value":" about option "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"trackVisibility"}]},{"type":"text","value":" from "},{"type":"element","tag":"a","props":{"href":"https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver","rel":["nofollow"]},"children":[{"type":"text","value":"IntersectionObserver"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"events"},"children":[{"type":"text","value":"Events"}]},{"type":"element","tag":"code","props":{"code":"<speedkit-iframe \n  @load=\"console.log('Iframe Loaded!')\" \n  @enter=\"console.log('Iframe enter viewport!')\" \n/>\n","language":"html","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-7920c0"},"children":[{"type":"text","value":"speedkit-iframe"}]},{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":" \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-98ca98"},"children":[{"type":"text","value":"@load"}]},{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-0ab01d"},"children":[{"type":"text","value":"\"console.log('Iframe Loaded!')\""}]},{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":" \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-98ca98"},"children":[{"type":"text","value":"@enter"}]},{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-0ab01d"},"children":[{"type":"text","value":"\"console.log('Iframe enter viewport!')\""}]},{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":" \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-cd8219"},"children":[{"type":"text","value":"/>"}]}]}]}]}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Description"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"load"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Triggered when Iframe has finished loading."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"enter"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Triggered when component has reached the viewport."}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-ae0236{color:#8250DF}\n.ct-c2d53a{color:#CF222E}\n.ct-0ab01d{color:#0A3069}\n.ct-98ca98{color:#0550AE}\n.ct-7920c0{color:#116329}\n.ct-cd8219{color:#24292F}\n.dark .ct-cd8219{color:#C9D1D9}\n.dark .ct-7920c0{color:#7EE787}\n.dark .ct-98ca98{color:#79C0FF}\n.dark .ct-0ab01d{color:#A5D6FF}\n.dark .ct-c2d53a{color:#FF7B72}\n.dark .ct-ae0236{color:#D2A8FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"exkurs","depth":2,"text":"Exkurs"},{"id":"solution","depth":2,"text":"Solution"},{"id":"usage","depth":2,"text":"Usage","children":[{"id":"example","depth":3,"text":"Example"}]},{"id":"properties","depth":2,"text":"Properties","children":[{"id":"componentobserver","depth":3,"text":"componentObserver"}]},{"id":"events","depth":2,"text":"Events"}]}},"_type":"markdown","_id":"content:11.v3:3.guide:6.components:speedkit-iframe.md","_source":"content","_file":"11.v3/3.guide/6.components/speedkit-iframe.md","_extension":"md"}