{"_path":"/guide/caveats","_dir":"guide","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Caveats","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":""},"children":[{"type":"element","tag":"binding","props":{"value":"title"},"children":[]}]},{"type":"element","tag":"h2","props":{"id":"v-font-and-custom-head"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"v-font"}]},{"type":"text","value":" and custom head"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"v-font"}]},{"type":"text","value":" directive is called in a component with a custom head, the directive specific head settings must be applied in the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"head"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The method "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"this.$speedkit.head(headAddition)"}]},{"type":"text","value":" is provided, it queries the required "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"head"}]},{"type":"text","value":" settings and returns them."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"By passing the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"headAddition"}]},{"type":"text","value":" argument, additional head settings can be applied."}]},{"type":"element","tag":"alert","props":{"type":"warning"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"$speedkit.head()"}]},{"type":"text","value":" is only available in vue component scope."}]}]},{"type":"element","tag":"h3","props":{"id":"example"},"children":[{"type":"text","value":"Example"}]},{"type":"element","tag":"code","props":{"code":"<template>\n  <span v-font=\"$getFont(…)\"></span>\n</template>\n\n<script>\n  export default {\n    head () {\n      return this.$speedkit.head({\n        link: […],\n        style: […],\n        noscript: [\n          { hid: 'critical-css', innerHTML: '<style> … </style>' }\n        ],\n        __dangerouslyDisableSanitizers: [\n          'noscript'\n        ]\n      });\n    }\n  }\n</script>\n","language":"html","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-05623f"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"class":"ct-05623f"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-53dc8f"},"children":[{"type":"text","value":"v-font"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-1fbec8"},"children":[{"type":"text","value":"\"$getFont(…)\""}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"></"}]},{"type":"element","tag":"span","props":{"class":"ct-05623f"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-05623f"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-05623f"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-23313a"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-922a43"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-23313a"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-922a43"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-922a43"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-518257"},"children":[{"type":"text","value":"head"}]},{"type":"element","tag":"span","props":{"class":"ct-922a43"},"children":[{"type":"text","value":" () "}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-23313a"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-53dc8f"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":".$speedkit."}]},{"type":"element","tag":"span","props":{"class":"ct-518257"},"children":[{"type":"text","value":"head"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"        link: […],"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"        style: […],"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"        noscript: ["}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"          { hid: "}]},{"type":"element","tag":"span","props":{"class":"ct-1fbec8"},"children":[{"type":"text","value":"'critical-css'"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":", innerHTML: "}]},{"type":"element","tag":"span","props":{"class":"ct-1fbec8"},"children":[{"type":"text","value":"'<style> … </style>'"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":" }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"        ],"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"        __dangerouslyDisableSanitizers: ["}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-1fbec8"},"children":[{"type":"text","value":"'noscript'"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"        ]"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"      });"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-922a43"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-05623f"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"issues"},"children":[{"type":"text","value":"Issues"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/vue-meta/issues/695","rel":["nofollow"]},"children":[{"type":"text","value":"nuxt/vue-meta#695"}]}]}]},{"type":"element","tag":"h2","props":{"id":"browser-compatibility"},"children":[{"type":"text","value":"Browser compatibility"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt-speedkit"}]},{"type":"text","value":" with "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Internet Explorer 11"}]},{"type":"text","value":" browser."}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note that there is no optimization based on preloads in IE 11."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You need the following polyfills:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.npmjs.com/package/object-fit-images","rel":["nofollow"]},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"object-fit-images"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.npmjs.com/package/picturefill","rel":["nofollow"]},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"picturefill"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.npmjs.com/package/intersection-observer","rel":["nofollow"]},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"intersection-observer"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The PostCSS Plugin "},{"type":"element","tag":"a","props":{"href":"https://github.com/ronik-design/postcss-object-fit-images","rel":["nofollow"]},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"postcss-object-fit-images"}]}]},{"type":"text","value":" and following "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"build.transpile"}]},{"type":"text","value":" entries for "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"@nuxt/image"}]},{"type":"text","value":":"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"@nuxt/image"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"image-meta"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For the polyfills, it is recommended to integrate them as a "},{"type":"element","tag":"a","props":{"href":"https://nuxtjs.org/docs/2.x/directory-structure/plugins","rel":["nofollow"]},"children":[{"type":"text","value":"plugin"}]},{"type":"text","value":", polyfills loading must follow a specific order."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can see a example with live demo at "},{"type":"element","tag":"a","props":{"href":"https://github.com/GrabarzUndPartner/nuxt-speedkit-example","rel":["nofollow"]},"children":[{"type":"text","value":"Nuxt Speedkit Example"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"example-1"},"children":[{"type":"text","value":"Example"}]},{"type":"element","tag":"code","props":{"code":"async function polyfills (){\n\n  if (!('IntersectionObserver' in global)) {\n    await import('intersection-observer');\n  }\n\n  if (!('objectFit' in document.documentElement.style)) {\n    await import('object-fit-images');\n  }\n\n  if (!('HTMLPictureElement' in global || 'picturefill' in global)) {\n    await import('picturefill');\n    await import('picturefill/dist/plugins/mutation/pf.mutation.js');\n  }\n\n}\n\npolyfills ();\n","filename":"plugins/polyfills.js","language":"js","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-23313a"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-23313a"},"children":[{"type":"text","value":"function"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-518257"},"children":[{"type":"text","value":"polyfills"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":" (){"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-23313a"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-23313a"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-1fbec8"},"children":[{"type":"text","value":"'IntersectionObserver'"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-23313a"},"children":[{"type":"text","value":"in"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":" global)) {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-23313a"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-23313a"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-1fbec8"},"children":[{"type":"text","value":"'intersection-observer'"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-23313a"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-23313a"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-1fbec8"},"children":[{"type":"text","value":"'objectFit'"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-23313a"},"children":[{"type":"text","value":"in"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":" document.documentElement.style)) {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-23313a"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-23313a"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-1fbec8"},"children":[{"type":"text","value":"'object-fit-images'"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-23313a"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-23313a"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-1fbec8"},"children":[{"type":"text","value":"'HTMLPictureElement'"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-23313a"},"children":[{"type":"text","value":"in"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":" global "}]},{"type":"element","tag":"span","props":{"class":"ct-23313a"},"children":[{"type":"text","value":"||"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1fbec8"},"children":[{"type":"text","value":"'picturefill'"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-23313a"},"children":[{"type":"text","value":"in"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":" global)) {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-23313a"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-23313a"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-1fbec8"},"children":[{"type":"text","value":"'picturefill'"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-23313a"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-23313a"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-1fbec8"},"children":[{"type":"text","value":"'picturefill/dist/plugins/mutation/pf.mutation.js'"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-518257"},"children":[{"type":"text","value":"polyfills"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":" ();"}]}]}]}]}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"code","props":{"code":"{\n  build: {\n    \n    transpile: ['@nuxt/image', 'image-meta'],\n\n    postcss: {\n      plugins: {\n        'postcss-object-fit-images': {}\n      }\n    }\n    \n  },\n\n  plugins: [\n    { src: \"@/plugins/polyfills.js\", mode: \"client\" }\n  ]\n}\n","filename":"nuxt.config.js","language":"js","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-922a43"},"children":[{"type":"text","value":"build"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"    "}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-922a43"},"children":[{"type":"text","value":"transpile"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":": ["}]},{"type":"element","tag":"span","props":{"class":"ct-1fbec8"},"children":[{"type":"text","value":"'@nuxt/image'"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-1fbec8"},"children":[{"type":"text","value":"'image-meta'"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"],"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-922a43"},"children":[{"type":"text","value":"postcss"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-922a43"},"children":[{"type":"text","value":"plugins"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-1fbec8"},"children":[{"type":"text","value":"'postcss-object-fit-images'"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":": {}"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"      }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"    "}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"  },"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-922a43"},"children":[{"type":"text","value":"plugins"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"    { src: "}]},{"type":"element","tag":"span","props":{"class":"ct-1fbec8"},"children":[{"type":"text","value":"\"@/plugins/polyfills.js\""}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":", mode: "}]},{"type":"element","tag":"span","props":{"class":"ct-1fbec8"},"children":[{"type":"text","value":"\"client\""}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":" }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"  ]"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"prevent-speedindex_of_zero-and-no_lcp"},"children":[{"type":"text","value":"Prevent "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SPEEDINDEX_OF_ZERO"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NO_LCP"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"window"}]},{"type":"text","value":" event "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt-speedkit:run"}]},{"type":"text","value":" is provided and useable to run code outside the app during initialization."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If the performance is not sufficient on the client side, this can be retrieved with the help of the event object "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"e.detail.sufficient"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"example-2"},"children":[{"type":"text","value":"Example"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A case where the event may be needed would be when the initial viewport on a website is blank and it is not displayed until the initialization is complete."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this case, measurements with Lighthouse can lead to these errors "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SPEEDINDEX_OF_ZERO"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NO_LCP"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In order to solve this case, it can be provided that the content of the stage can already be displayed outside of the app initialization in the case of a slow initialization."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this case the global event "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt-speedkit:run"}]},{"type":"text","value":" can be used. It will return an event object with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"e.detail.sufficient"}]},{"type":"text","value":" as value. With the help of this status you can decide whether the stage should be displayed in advance."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Component Example"}]}]},{"type":"element","tag":"code","props":{"code":"<template>\n  <div class=\"stage\">…</div>\n</template>\n\n<script>\n  export default {\n    head () {\n      return {\n        script: [\n          {\n            hid: 'prevent-script',\n            innerHTML: `\n              window.addEventListener(\"nuxt-speedkit:run\", function (e) {\n                if (!e.detail.sufficient) {\n                  // added style class to display the content\n                  document.querySelector('.stage').classList.add('visible')\n                }\n              });\n            `\n          }\n        ],\n        __dangerouslyDisableSanitizers: [\n          'script'\n        ]\n      };\n    }\n  };\n</script>\n","language":"vue","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-05623f"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"class":"ct-05623f"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-53dc8f"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-1fbec8"},"children":[{"type":"text","value":"\"stage\""}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":">…</"}]},{"type":"element","tag":"span","props":{"class":"ct-05623f"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-05623f"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-05623f"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-23313a"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-922a43"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-23313a"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-922a43"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-922a43"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-518257"},"children":[{"type":"text","value":"head"}]},{"type":"element","tag":"span","props":{"class":"ct-922a43"},"children":[{"type":"text","value":" () "}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-23313a"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"        script: ["}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"          {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"            hid: "}]},{"type":"element","tag":"span","props":{"class":"ct-1fbec8"},"children":[{"type":"text","value":"'prevent-script'"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"            innerHTML: "}]},{"type":"element","tag":"span","props":{"class":"ct-1fbec8"},"children":[{"type":"text","value":"`"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fbec8"},"children":[{"type":"text","value":"              window.addEventListener(\"nuxt-speedkit:run\", function (e) {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fbec8"},"children":[{"type":"text","value":"                if (!e.detail.sufficient) {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fbec8"},"children":[{"type":"text","value":"                  // added style class to display the content"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fbec8"},"children":[{"type":"text","value":"                  document.querySelector('.stage').classList.add('visible')"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fbec8"},"children":[{"type":"text","value":"                }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fbec8"},"children":[{"type":"text","value":"              });"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fbec8"},"children":[{"type":"text","value":"            `"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"          }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"        ],"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"        __dangerouslyDisableSanitizers: ["}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"          "}]},{"type":"element","tag":"span","props":{"class":"ct-1fbec8"},"children":[{"type":"text","value":"'script'"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"        ]"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"      };"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-922a43"},"children":[{"type":"text","value":"  }"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-05623f"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-da2261"},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-518257{color:#8250DF}\n.ct-922a43{color:#953800}\n.ct-23313a{color:#CF222E}\n.ct-1fbec8{color:#0A3069}\n.ct-53dc8f{color:#0550AE}\n.ct-05623f{color:#116329}\n.ct-da2261{color:#24292F}\n.dark .ct-da2261{color:#C9D1D9}\n.dark .ct-05623f{color:#7EE787}\n.dark .ct-53dc8f{color:#79C0FF}\n.dark .ct-1fbec8{color:#A5D6FF}\n.dark .ct-23313a{color:#FF7B72}\n.dark .ct-922a43{color:#FFA657}\n.dark .ct-518257{color:#D2A8FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"v-font-and-custom-head","depth":2,"text":"v-font and custom head","children":[{"id":"example","depth":3,"text":"Example"},{"id":"issues","depth":3,"text":"Issues"}]},{"id":"browser-compatibility","depth":2,"text":"Browser compatibility","children":[{"id":"example-1","depth":3,"text":"Example"}]},{"id":"prevent-speedindex_of_zero-and-no_lcp","depth":2,"text":"Prevent SPEEDINDEX_OF_ZERO and NO_LCP","children":[{"id":"example-2","depth":3,"text":"Example"}]}]}},"_type":"markdown","_id":"content:3.guide:3.caveats.md","_source":"content","_file":"3.guide/3.caveats.md","_extension":"md"}