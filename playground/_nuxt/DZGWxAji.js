import{ae as p,r as f,af as g,z as n,ag as d,X as m,ah as S,I as y}from"./C-f9qFPg.js";import{u as C}from"./6WTcc9Hi.js";import{b as a,t as v}from"./PJhc0dFK.js";const u=Symbol("criticalContext");function D({critical:i}={}){const t=p(),r=f("critical"in t?t.critical===""||String(t.critical)==="true":i),e=g(u,r.value||!1),o=n(()=>typeof r.value=="boolean"?r.value:e);return d(u,o.value||i),{isCritical:o,critical:e}}function h(){const{booster:i}=m().public;return i}class x{constructor(){this.list=[]}add(t){const r={name:"data-font",value:`${F(JSON.stringify(t.map(e=>e.getKey())))}`};return this.list=[].concat(this.list).concat(t.map(e=>(e.setRootSelector(r),e))),r}getPreloadDescriptions(t,r="anonymous"){return Array.from(this.list.reduce((e,o)=>e,new Map).values())}getStyleDescriptions(t){return l([a(this.list.map(r=>r.getCSSText(t)).join(" "))])}getNoScriptStyleDescriptions(){return l([a(this.list.map(t=>t.getNoScriptCSSText()).join(" "),!0)])}toJSON(){return this.list}}function F(i,t){return v(`${i}_${t}`).padStart(9,"-")}function l(i){return i.filter(t=>t.key!=="0")}function A(i){const{isCritical:t,critical:r}=D(i),e=h(),o=y(),s=S(new x);return b(t,s,e),{isCritical:t,critical:r,$getFont:(...c)=>({runtimeConfig:e,isCritical:t.value,fontCollection:s,definition:o.$booster.getFont(...c)})}}function b(i,t,r){const e={usedFontaine:r.usedFontaine};C({link:n(()=>t.getPreloadDescriptions(i.value)),style:n(()=>t.getStyleDescriptions(e)),noscript:n(()=>t.getNoScriptStyleDescriptions())})}export{A as a,D as u};
